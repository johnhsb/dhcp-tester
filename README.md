# ISPκΈ‰ λ€μ©λ‰ DHCPμ„λ²„ μ„±λ¥ κ²€μ¦ μ‹μ¤ν… v2.0

Go μ–Έμ–΄λ΅ κ°λ°λ **RFC 2131 μ™„μ „ μ¤€μ** DHCP ν…μ¤νΈ ν™κ²½μΌλ΅, **κ³ μ„±λ¥ ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„°**μ™€ **DHCP μ„λ²„ μ‹λ®¬λ μ΄ν„°**λ¥Ό ν¬ν•¨ν•μ—¬ μ‹¤μ  λ„¤νΈμ›ν¬ ν™κ²½μ„ μ™„λ²½ν•κ² μ‹λ®¬λ μ΄μ…ν•©λ‹λ‹¤.

## π—οΈ **μ•„ν‚¤ν…μ² κ°μ”**

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  DHCP μ„λ²„          β”‚    β”‚  μ„±λ¥ ν…μ¤νΈ        β”‚
β”‚  μ‹λ®¬λ μ΄ν„°         β”‚β—„β”€β”€β”€β”‚  ν΄λΌμ΄μ–ΈνΈ         β”‚
β”‚                     β”‚    β”‚                     β”‚
β”‚ dhcp_server_        β”‚    β”‚ dhcp_performance_   β”‚
β”‚ simulator.py        β”‚    β”‚ test.py             β”‚
β”‚                     β”‚    β”‚                     β”‚
β”‚ β€Ά λ‹¤μ¤‘ μ„λΈλ„· μ§€μ›  β”‚    β”‚ β€Ά Relay Agent μ‹λ®¬  β”‚
β”‚ β€Ά μ‹¤μ‹κ°„ λ””λ²„κΉ…     β”‚    β”‚ β€Ά λ€μ©λ‰ λ™μ‹ μ”μ²­  β”‚
β”‚ β€Ά μ„±λ¥ λ¨λ‹ν„°λ§     β”‚    β”‚ β€Ά μƒμ„Έ μ„±λ¥ λ¶„μ„    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π― μ†”λ£¨μ… κµ¬μ„±

### π“± **DHCP ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„°** (`dhcp-tester`)
- μμ² κ°μ κ°€μƒ DHCP ν΄λΌμ΄μ–ΈνΈ μ‹λ®¬λ μ΄μ…
- **RFC 2131 μ™„μ „ μ¤€μ** 4-way handshake μν–‰
- **μ§€μ λ°±μ¤ν”„ μ¬μ‹λ„ λ΅μ§** (RFC 2131 Section 4.1)
- **λ„¤νΈμ›ν¬ μ§€ν„° κΈ°λ¥** (νΌμ΅ λ°©μ§€)
- μ‹¤μ‹κ°„ μ„±λ¥ λ¨λ‹ν„°λ§ (5fps μ—…λ°μ΄νΈ)
- **RFC 3046 Relay Agent** μ™„μ „ μ§€μ›

### π–¥οΈ **DHCP μ„λ²„ μ‹λ®¬λ μ΄ν„°** (`dhcp-server`)
- RFC μ¤€μ DHCP μ„λ²„ κµ¬ν„
- λ™μ  IP ν’€ κ΄€λ¦¬ λ° μ„λ€ μ¶”μ 
- **μ„Έμ… κ΄€λ¦¬** λ° μλ™ μ •λ¦¬
- Relay Agent μ™„μ „ μ§€μ›
- **λ„¤νΈμ›ν¬ μ‹λ®¬λ μ΄μ…** (μ§€μ—°/μ†μ‹¤/λ€μ—­ν­)

## π€ μ£Όμ” κΈ°λ¥

### π†• **v2.0 μ‹ κ· κΈ°λ¥**
- **RFC 2131 μ¬μ‹λ„ λ΅μ§**: μ§€μ λ°±μ¤ν”„, μµλ€ μ¬μ‹λ„ νμ, μ§€ν„°
- **ν–¥μƒλ μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§**: 5fps λ€μ‹λ³΄λ“, λ‹¨κ³„λ³„ μ‘λ‹µμ‹κ°„
- **κ¶ν• μλ™ κ²€μ¦**: ν¬νΈ λ°”μΈλ”© ν…μ¤νΈ, μ‚¬μ©μ κ¶ν• ν™•μΈ
- **μ„Έμ… κ΄€λ¦¬**: ν΄λΌμ΄μ–ΈνΈ μ„Έμ… μ¶”μ , μλ™ μ •λ¦¬
- **λ„¤νΈμ›ν¬ μ‹λ®¬λ μ΄μ…**: ν¨ν‚· λ“λ΅­, μ‘λ‹µ μ§€μ—°, λ€μ—­ν­ μ ν•
- **ν–¥μƒλ ν†µκ³„**: λ°±λ¶„μ„μ λ¶„μ„, μ—λ¬ λ¶„λ¥, μ¬μ‹λ„ ν†µκ³„

### ν•µμ‹¬ κΈ°λ¥
- **μ™„μ „ν• DHCP ν”„λ΅ν† μ½**: `Discover β†’ Offer β†’ Request β†’ ACK` μ „μ²΄ κ³Όμ •
- **RFC 3046 Relay Agent**: Option 82, Circuit ID, Remote ID μ™„μ „ μ§€μ›
- **κ³ μ„±λ¥ λ™μ‹ μ²λ¦¬**: Go λ£¨ν‹΄ κΈ°λ° μμ² κ° λ™μ‹ ν΄λΌμ΄μ–ΈνΈ
- **μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§**: Curses μ¤νƒ€μΌ λ€μ‹λ³΄λ“
- **μ™„μ „ν• ν…μ¤νΈ ν™κ²½**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ¨λ‘ μ κ³µ

## π“‹ μ‹μ¤ν… μ”κµ¬μ‚¬ν•­

- **Go 1.16+** (μ»΄νμΌμ©)
- **Linux/macOS/Windows** (ν¬λ΅μ¤ ν”λ«νΌ μ§€μ›)
- **λ„¤νΈμ›ν¬ μ ‘κ·Ό** (μ‹¤μ  DHCP μ„λ²„ ν…μ¤νΈ μ‹)
- **μ„ νƒμ‚¬ν•­**: κ΄€λ¦¬μ κ¶ν• (ν¬νΈ 67/68 λ°”μΈλ”©)
- **λ©”λ¨λ¦¬**: μµμ† 4GB (λ€λ‰ ν…μ¤νΈμ© 8GB κ¶μ¥)
- **CPU**: λ©€ν‹°μ½”μ–΄ κ¶μ¥ (κ³ μ„±λ¥ ν…μ¤νΈμ©)

## π”§ μ„¤μΉ λ° μ»΄νμΌ

### λΉ λ¥Έ μ‹μ‘
```bash
# ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„° μ»΄νμΌ
go build -o dhcp-tester dhcp-tester.go

# μ„λ²„ μ‹λ®¬λ μ΄ν„° μ»΄νμΌ
go build -o dhcp-server dhcp-server.go

# μ‹¤ν–‰ κ¶ν• λ¶€μ—¬ (Linux/macOS)
chmod +x dhcp-tester dhcp-server
```

### μµμ ν™” λΉλ“ (μ„±λ¥ ν–¥μƒ)
```bash
# λ¦΄λ¦¬μ¦ λΉλ“ (μµμ ν™”)
go build -ldflags="-s -w" -o dhcp-tester dhcp-tester.go
go build -ldflags="-s -w" -o dhcp-server dhcp-server.go

# μ •μ  λ§ν‚Ή (λ°°ν¬μ©)
CGO_ENABLED=0 go build -a -ldflags="-s -w" -o dhcp-tester dhcp-tester.go
CGO_ENABLED=0 go build -a -ldflags="-s -w" -o dhcp-server dhcp-server.go
```

## π“– κΈ°λ³Έ μ‚¬μ©λ²•

### π†• κ¶ν• μλ™ κ²€μ¦ λ° μ•λ‚΄
```bash
# ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ‹ μλ™μΌλ΅ κ¶ν• μƒνƒ ν™•μΈ
./dhcp-tester
# β… Root κ¶ν•μΌλ΅ μ‹¤ν–‰ μ¤‘ - λ¨λ“  κΈ°λ¥ μ‚¬μ© κ°€λ¥
# λλ”
# β„ΉοΈ μΌλ° μ‚¬μ©μλ΅ μ‹¤ν–‰ μ¤‘ (username)
#    - κΈ°λ³Έ μ„±λ¥ ν…μ¤νΈ: κ°€λ¥
#    - μ‹¤μ  λΈλ΅λ“μΊμ¤νΈ: μ ν•μ 
#    - ν¬νΈ 68 λ°”μΈλ”©: λ¶κ°€λ¥
#    π’΅ λ” μ •ν™•ν• ν…μ¤νΈλ¥Ό μ›ν•λ©΄ 'sudo ./dhcp-tester'λ΅ μ‹¤ν–‰ν•μ„Έμ”
```

### μ‹λ‚λ¦¬μ¤ 1: λ΅μ»¬ ν…μ¤νΈ ν™κ²½ (RFC μ¬μ‹λ„ ν¬ν•¨)

**ν„°λ―Έλ„ 1 - DHCP μ„λ²„ μ‹μ‘**
```bash
# μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§κ³Ό ν•¨κ» μ„λ²„ μ‹μ‘
./dhcp-server -live -verbose \
  -start-ip 192.168.1.100 \
  -end-ip 192.168.1.200 \
  -gateway 192.168.1.1 \
  -response-delay 50ms \
  -drop-rate 0.02
```

**ν„°λ―Έλ„ 2 - ν΄λΌμ΄μ–ΈνΈ ν…μ¤νΈ (RFC μ¬μ‹λ„ ν™μ„±ν™”)**
```bash
# RFC 2131 μ¤€μ μ¬μ‹λ„ λ΅μ§μΌλ΅ μ„λ²„ μ„±λ¥ ν…μ¤νΈ
./dhcp-tester -server 127.0.0.1 \
  -clients 100 -concurrency 20 \
  -retry -max-discover-retries 3 -max-request-retries 3 \
  -initial-timeout 4s -max-timeout 64s \
  -backoff-multiplier 2.0 \
  -live
```

### π†• μ‹λ‚λ¦¬μ¤ 2: λ„¤νΈμ›ν¬ μ¥μ•  λ³µμ›λ ¥ ν…μ¤νΈ

```bash
# μ„λ²„: λ†’μ€ ν¨ν‚· μ†μ‹¤ ν™κ²½ μ‹λ®¬λ μ΄μ…
./dhcp-server -live -drop-rate 0.1 -response-delay 200ms

# ν΄λΌμ΄μ–ΈνΈ: RFC μ¬μ‹λ„λ΅ μ¥μ•  λ³µμ›λ ¥ ν…μ¤νΈ
./dhcp-tester -server 127.0.0.1 \
  -clients 500 -concurrency 50 \
  -retry -max-discover-retries 5 -max-request-retries 5 \
  -initial-timeout 2s -max-timeout 30s \
  -live -verbose
```

## πΆ μ‹¤μ  λ„¤νΈμ›ν¬ ν™κ²½λ³„ μ‚¬μ©λ²•

### κΈ°μ—… λ„¤νΈμ›ν¬ ν™κ²½

**μ„λ²„ μ„¤μ • (κΈ°μ—… ν™κ²½ + μ„Έμ… κ΄€λ¦¬)**
```bash
./dhcp-server -live \
  -start-ip 10.10.1.100 \
  -end-ip 10.10.1.200 \
  -gateway 10.10.1.1 \
  -dns1 10.10.1.10 \
  -dns2 8.8.8.8 \
  -domain "company.local" \
  -lease-time 8h \
  -offer-timeout 30s \
  -max-concurrent 2000
```

**ν΄λΌμ΄μ–ΈνΈ ν…μ¤νΈ (κΈ°μ—… ν™κ²½ + RFC μ¬μ‹λ„)**
```bash
# λ³Έμ‚¬ λ„¤νΈμ›ν¬ (2000λ… κ·λ¨) - μ•μ •μ μΈ μ¬μ‹λ„ μ„¤μ •
./dhcp-tester -server 127.0.0.1 \
  -clients 2000 -concurrency 200 \
  -relay -relay-ip 10.10.1.1 \
  -circuit-id "λ³Έμ‚¬λΉλ”©/3μΈµμ¤μ„μΉ/ν¬νΈ48" \
  -remote-id "μ§μ›λ„¤νΈμ›ν¬" \
  -retry -max-discover-retries 3 -max-request-retries 3 \
  -initial-timeout 4s -max-timeout 32s \
  -live -timeout 15s

# μ§€μ  λ„¤νΈμ›ν¬ (100λ… κ·λ¨) - λΉ λ¥Έ μ¬μ‹λ„ μ„¤μ •
./dhcp-tester -server 192.168.1.1 \
  -clients 100 -concurrency 20 \
  -relay -relay-ip 172.16.1.1 \
  -circuit-id "μ§€μ 01/μ¤μ„μΉ01" \
  -retry -max-discover-retries 2 -max-request-retries 2 \
  -initial-timeout 2s -max-timeout 16s \
  -live
```

### ISP/ν†µμ‹ μ‚¬ ν™κ²½

**μ„λ²„ μ„¤μ • (ISP ν™κ²½ + κ³ μ„±λ¥)**
```bash
./dhcp-server -live \
  -start-ip 172.20.0.10 \
  -end-ip 172.20.10.250 \
  -gateway 172.20.0.1 \
  -lease-time 24h \
  -max-concurrent 10000 \
  -response-delay 20ms \
  -drop-rate 0.001
```

**ν΄λΌμ΄μ–ΈνΈ ν…μ¤νΈ (ISP ν™κ²½ + λ€λ‰ μ²λ¦¬)**
```bash
# FTTH κ°€μ…μ ν…μ¤νΈ (10000λ…) - λ³΄μμ  μ¬μ‹λ„
./dhcp-tester -server 127.0.0.1 \
  -clients 10000 -concurrency 500 \
  -relay -relay-ip 203.0.113.1 \
  -circuit-id "OLT-seoul-01/PON-24" \
  -remote-id "μ•„ννΈλ‹¨μ§€A" \
  -retry -max-discover-retries 4 -max-request-retries 4 \
  -initial-timeout 6s -max-timeout 64s \
  -live -timeout 30s

# μΌ€μ΄λΈ” λ¨λ€ ν™κ²½ - λ„¤νΈμ›ν¬ μ§€μ—° κ³ λ ¤
./dhcp-tester -server 127.0.0.1 \
  -clients 5000 -concurrency 200 \
  -relay -relay-ip 192.168.100.1 \
  -circuit-id "CMTS-01/DS-12/US-4" \
  -retry -max-discover-retries 3 -max-request-retries 3 \
  -initial-timeout 8s -max-timeout 64s \
  -live
```

## π›οΈ λ…λ Ήν–‰ μµμ…

### DHCP ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„° (`dhcp-tester`)

#### κΈ°λ³Έ μµμ…
| μµμ… | κΈ°λ³Έκ°’ | μ„¤λ… |
|------|---------|------|
| `-server` | `255.255.255.255` | DHCP μ„λ²„ IP μ£Όμ† |
| `-port` | `67` | DHCP μ„λ²„ ν¬νΈ |
| `-clients` | `100` | ν…μ¤νΈν•  ν΄λΌμ΄μ–ΈνΈ μ |
| `-concurrency` | `10` | λ™μ‹ μ‹¤ν–‰ν•  κ³ λ£¨ν‹΄ μ |
| `-timeout` | `5s` | κΈ°λ³Έ μ‘λ‹µ λ€κΈ° μ‹κ°„ |
| `-seed` | `0` | λλ¤ μ‹λ“ (0μ€ ν„μ¬ μ‹κ°„) |

#### π†• RFC 2131 μ¬μ‹λ„ μµμ…
| μµμ… | κΈ°λ³Έκ°’ | μ„¤λ… |
|------|---------|------|
| `-retry` | `false` | RFC 2131 μ¬μ‹λ„ λ΅μ§ ν™μ„±ν™” |
| `-max-discover-retries` | `3` | Discover μµλ€ μ¬μ‹λ„ νμ |
| `-max-request-retries` | `3` | Request μµλ€ μ¬μ‹λ„ νμ |
| `-initial-timeout` | `4s` | μ΄κΈ° μ¬μ‹λ„ νƒ€μ„μ•„μ›ƒ |
| `-max-timeout` | `64s` | μµλ€ μ¬μ‹λ„ νƒ€μ„μ•„μ›ƒ |
| `-backoff-multiplier` | `2.0` | μ§€μ λ°±μ¤ν”„ λ°°μ |
| `-disable-jitter` | `false` | μ¬μ‹λ„ μ§€ν„° λΉ„ν™μ„±ν™” |

#### ν‘μ‹ λ¨λ“
| μµμ… | μ„¤λ… |
|------|------|
| `-live` | μ‹¤μ‹κ°„ λ€μ‹λ³΄λ“ λ¨λ‹ν„°λ§ (5fps) |
| `-verbose` | ν΄λΌμ΄μ–ΈνΈλ³„ μƒμ„Έ DHCP κ³Όμ • λ΅κ·Έ |
| `-progress` | κ°„λ‹¨ν• μ§„ν–‰λ¥  ν‘μ‹ (κΈ°λ³Έκ°’) |

#### Relay Agent μµμ…
| μµμ… | μ„¤λ… |
|------|------|
| `-relay` | DHCP Relay Agent λ¨λ“ ν™μ„±ν™” |
| `-relay-ip` | Relay Agent IP μ£Όμ† (giaddr) |
| `-circuit-id` | Option 82 Circuit ID |
| `-remote-id` | Option 82 Remote ID |
| `-hops` | Relay hop count (κΈ°λ³Έκ°’: 1) |
| `-max-hops` | μµλ€ ν—μ© hop count (κΈ°λ³Έκ°’: 4) |

#### π†• κ¶ν• κ΄€λ ¨ μµμ…
| μµμ… | μ„¤λ… |
|------|------|
| `-require-root` | Root κ¶ν• κ°•μ  μ”κµ¬ |
| `-skip-priv-check` | κ¶ν• ν™•μΈ κ±΄λ„λ›°κΈ° |

### DHCP μ„λ²„ μ‹λ®¬λ μ΄ν„° (`dhcp-server`)

#### κΈ°λ³Έ μ„¤μ •
| μµμ… | κΈ°λ³Έκ°’ | μ„¤λ… |
|------|---------|------|
| `-listen` | `0.0.0.0` | μ„λ²„ λ°”μΈλ”© IP |
| `-port` | `67` | μ„λ²„ ν¬νΈ |
| `-start-ip` | `192.168.100.10` | IP ν’€ μ‹μ‘ μ£Όμ† |
| `-end-ip` | `192.168.100.250` | IP ν’€ μΆ…λ£ μ£Όμ† |
| `-subnet-mask` | `255.255.255.0` | μ„λΈλ„· λ§μ¤ν¬ |
| `-gateway` | `192.168.100.1` | κΈ°λ³Έ κ²μ΄νΈμ›¨μ΄ |
| `-dns1` | `8.8.8.8` | μ²« λ²μ§Έ DNS μ„λ²„ |
| `-dns2` | `8.8.4.4` | λ‘ λ²μ§Έ DNS μ„λ²„ |
| `-domain` | `example.com` | λ„λ©”μΈ μ΄λ¦„ |
| `-lease-time` | `24h` | IP μ„λ€ μ‹κ°„ |
| `-offer-timeout` | `30s` | Offer νƒ€μ„μ•„μ›ƒ |

#### π†• μ„±λ¥ λ° μ‹λ®¬λ μ΄μ…
| μµμ… | κΈ°λ³Έκ°’ | μ„¤λ… |
|------|---------|------|
| `-max-concurrent` | `1000` | μµλ€ λ™μ‹ μ²λ¦¬ μ |
| `-response-delay` | `0` | μ‘λ‹µ μ§€μ—° μ‹λ®¬λ μ΄μ… |
| `-drop-rate` | `0.0` | ν¨ν‚· λ“λ΅­λ¥  (0.0-1.0) |
| `-relay` | `true` | Relay Agent μ§€μ› |
| `-max-hops` | `4` | μµλ€ ν—μ© hop count |

#### ν‘μ‹ μµμ…
| μµμ… | μ„¤λ… |
|------|------|
| `-live` | μ‹¤μ‹κ°„ μ„λ²„ ν†µκ³„ λ€μ‹λ³΄λ“ |
| `-verbose` | μƒμ„Έ DHCP λ©”μ‹μ§€ λ΅κ·Έ |

## π“ μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§

### π†• ν–¥μƒλ ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„° λ€μ‹λ³΄λ“ (5fps μ—…λ°μ΄νΈ)
```
β•”β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•—
β•‘                    DHCP μ„λ²„ μ„±λ¥ ν…μ¤νΈ μ‹¤μ‹κ°„ λ¨λ‹ν„°                β•‘
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

ν…μ¤νΈ μ„¤μ •
  μ„λ²„: 127.0.0.1:67  (Relay: 192.168.1.1)
  ν΄λΌμ΄μ–ΈνΈ: 1000, κ²½κ³Όμ‹κ°„: 12s

μ „μ²΄ μ§„ν–‰λ¥ 
  μ§„ν–‰: 456/1000 (45.6%) [β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘β–‘] 45.6%
  μ„±κ³µ: 398, μ‹¤ν¨: 58, μ„±κ³µλ¥ : 87.3%

β”β”€ DHCP 4-Way Handshake μ‹¤μ‹κ°„ ν†µκ³„ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  1. DISCOVER μ „μ†΅:      456 κ°    3. REQUEST μ „μ†΅:     398 κ°        β”‚
β”‚  2. OFFER μμ‹ :         398 κ°    4. ACK μμ‹ :         398 κ°        β”‚
β”‚                                                                      β”‚
β”‚  ν‰κ·  μ‘λ‹µμ‹κ°„:                                                      β”‚
β”‚    Discover β†’ Offer:   15.2ms      Request β†’ ACK:    12.8ms          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

μ—λ¬ ν†µκ³„
  νƒ€μ„μ•„μ›ƒ: 45  νμ‹± μ¤λ¥: 8  λ„¤νΈμ›ν¬: 5  

μ„±λ¥ μ§€ν‘
  μ™„λ£μ¨: 38.0 completions/sec
  μ„±κ³µμ¨: 33.2 successful/sec

[ESC λλ” Ctrl+Cλ΅ μ¤‘λ‹¨]
```

### π†• ν–¥μƒλ μ„λ²„ μ‹λ®¬λ μ΄ν„° λ€μ‹λ³΄λ“
```
β•”β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•—
β•‘                        DHCP μ„λ²„ μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§                       β•‘
β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•

μ„λ²„ μ •λ³΄
  μ£Όμ†: 0.0.0.0:67  (Relay μ§€μ›)
  κ°€λ™ μ‹κ°„: 2m34s
  IP ν’€: 192.168.1.100 - 192.168.1.200 (101κ°)

β”β”€ DHCP λ©”μ‹μ§€ ν†µκ³„ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  μμ‹ : DISCOVER      456    REQUEST      398                          β”‚
β”‚  μ „μ†΅: OFFER         398    ACK          398    NAK        5          β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”

IP ν’€ μƒνƒ
  μ‚¬μ© μ¤‘: 87, μ‚¬μ© κ°€λ¥: 14, μ‚¬μ©λ¥ : 86.1%
  [β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–β–‘β–‘β–‘β–‘] 86.1%

μ„±λ¥ μ§€ν‘
  ν‰κ·  RPS: 45.2 requests/sec
  ν‰κ·  μ²λ¦¬ μ‹κ°„: 2.3ms

μ—λ¬ ν†µκ³„
  νμ‹± μ¤λ¥: 3  ν’€ κ³ κ°: 0  μλ»λ μ”μ²­: 5  

[Ctrl+Cλ΅ μΆ…λ£]
```

## π§ κ³ κΈ‰ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### π†• 1. RFC 2131 μ¬μ‹λ„ λ΅μ§ κ²€μ¦

**μ •μƒ ν™κ²½μ—μ„ μ¬μ‹λ„ λΉ„ν™μ„±ν™”**
```bash
# μ„λ²„: μ•μ •μ μΈ ν™κ²½
./dhcp-server -live

# ν΄λΌμ΄μ–ΈνΈ: μ¬μ‹λ„ μ—†μ΄ ν…μ¤νΈ
./dhcp-tester -server 127.0.0.1 -clients 500 -live
```

**λ¶μ•μ • ν™κ²½μ—μ„ μ¬μ‹λ„ ν™μ„±ν™”**
```bash
# μ„λ²„: 10% ν¨ν‚· λ“λ΅­ + 200ms μ§€μ—°
./dhcp-server -drop-rate 0.1 -response-delay 200ms -live

# ν΄λΌμ΄μ–ΈνΈ: RFC 2131 μ¬μ‹λ„ λ΅μ§
./dhcp-tester -server 127.0.0.1 -clients 500 \
  -retry -max-discover-retries 5 -max-request-retries 5 \
  -initial-timeout 2s -max-timeout 64s \
  -backoff-multiplier 2.0 -live -verbose
```

### π†• 2. λ„¤νΈμ›ν¬ μ§€μ—° λ° μ†μ‹¤ λ‹¨κ³„λ³„ ν…μ¤νΈ

**λ‹¨κ³„λ³„ ν¨ν‚· μ†μ‹¤ ν…μ¤νΈ**
```bash
# μ†μ‹¤λ¥  0%, 1%, 5%, 10% λ‹¨κ³„λ³„ ν…μ¤νΈ
for drop_rate in 0.0 0.01 0.05 0.1; do
  echo "=== ν¨ν‚· μ†μ‹¤λ¥ : ${drop_rate} ==="
  ./dhcp-server -drop-rate $drop_rate -live &
  SERVER_PID=$!
  sleep 2
  
  ./dhcp-tester -server 127.0.0.1 -clients 200 \
    -retry -max-discover-retries 3 -max-request-retries 3 \
    -progress
  
  kill $SERVER_PID
  sleep 3
done
```

**λ‹¨κ³„λ³„ λ„¤νΈμ›ν¬ μ§€μ—° ν…μ¤νΈ**
```bash
# μ§€μ—° 10ms, 50ms, 100ms, 500ms λ‹¨κ³„λ³„ ν…μ¤νΈ
for delay in 10ms 50ms 100ms 500ms; do
  echo "=== λ„¤νΈμ›ν¬ μ§€μ—°: ${delay} ==="
  ./dhcp-server -response-delay $delay -live &
  SERVER_PID=$!
  sleep 2
  
  ./dhcp-tester -server 127.0.0.1 -clients 200 \
    -retry -initial-timeout 2s -max-timeout 30s \
    -timeout 60s -progress
  
  kill $SERVER_PID
  sleep 3
done
```

### π†• 3. IP ν’€ κ³ κ° λ° λ³µκµ¬ ν…μ¤νΈ

**μ ν•λ IP ν’€μ—μ„ μν™ ν…μ¤νΈ**
```bash
# μ„λ²„: 20κ°λ§ μ κ³µν•λ” μ‘μ€ ν’€
./dhcp-server -start-ip 192.168.1.10 -end-ip 192.168.1.29 \
  -lease-time 30s -offer-timeout 10s -live &

# ν΄λΌμ΄μ–ΈνΈ: ν’€λ³΄λ‹¤ λ§μ€ μ”μ²­μΌλ΅ μν™ ν™•μΈ
./dhcp-tester -server 127.0.0.1 -clients 50 -concurrency 10 \
  -retry -max-discover-retries 5 -max-request-retries 5 \
  -live -verbose
```

### π†• 4. λ€μ©λ‰ μ„±λ¥ λ²¤μΉλ§ν‚Ή (κ°μ„ λ)

**μµλ€ μ„±λ¥ ν…μ¤νΈ with μ¬μ‹λ„**
```bash
# μ„λ²„: λ€μ©λ‰ IP ν’€κ³Ό μµκ³  μ„±λ¥ μ„¤μ •
./dhcp-server -live \
  -start-ip 10.0.0.10 \
  -end-ip 10.0.50.250 \
  -max-concurrent 5000 \
  -lease-time 1h \
  -offer-timeout 60s

# ν΄λΌμ΄μ–ΈνΈ: κ·Ήν• λ¶€ν• ν…μ¤νΈ with RFC μ¬μ‹λ„
./dhcp-tester -server 127.0.0.1 \
  -clients 50000 -concurrency 1000 \
  -retry -max-discover-retries 2 -max-request-retries 2 \
  -initial-timeout 3s -max-timeout 15s \
  -timeout 60s -live
```

### π†• 5. Multi-hop Relay ν™κ²½ κ³ κΈ‰ ν…μ¤νΈ

**λ³µμ΅ν• Relay κµ¬μ΅° with μ¥μ•  μ‹λ®¬λ μ΄μ…**
```bash
# μ„λ²„: λ‹¤μ¤‘ ν™‰ μ§€μ› + λ„¤νΈμ›ν¬ μ¥μ•  μ‹λ®¬λ μ΄μ…
./dhcp-server -live -max-hops 6 \
  -response-delay 50ms -drop-rate 0.02

# ν΄λΌμ΄μ–ΈνΈ: λ‹¤λ‹¨κ³„ Relay + κ°•ν™”λ μ¬μ‹λ„
./dhcp-tester -server 127.0.0.1 \
  -clients 1000 -concurrency 100 \
  -relay -relay-ip 192.168.1.1 \
  -hops 4 -max-hops 6 \
  -circuit-id "μ½”μ–΄λΌμ°ν„°/μ§‘μ„ λΌμ°ν„°/μ•΅μ„Έμ¤μ¤μ„μΉ/ν¬νΈ48" \
  -remote-id "κΈ°μ—…κ³ κ°/λΉλ”©A/μΈµλ³„μ¤μ„μΉ" \
  -retry -max-discover-retries 4 -max-request-retries 4 \
  -initial-timeout 5s -max-timeout 64s \
  -live -verbose
```

## π” κ¶ν• μ”κµ¬μ‚¬ν•­

### π†• μλ™ κ¶ν• κ²€μ¦ μ‹μ¤ν…
ν”„λ΅κ·Έλ¨ μ‹¤ν–‰ μ‹ μλ™μΌλ΅ λ‹¤μμ„ ν™•μΈν•©λ‹λ‹¤:
- ν„μ¬ μ‚¬μ©μ κ¶ν• (root/μΌλ° μ‚¬μ©μ)
- ν¬νΈ 67/68 λ°”μΈλ”© κ°€λ¥ μ—¬λ¶€
- λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ μ ‘κ·Ό κ¶ν•
- λΈλ΅λ“μΊμ¤νΈ μ†΅μ‹  κ¶ν•

### μΌλ° μ‚¬μ©μ λ¨λ“ (κ¶μ¥)
- β… **μ™„μ „ν• ν…μ¤νΈ ν™κ²½**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ¨λ‘ λ™μ‘
- β… **λ¨λ“  κΈ°λ¥**: Relay Agent, μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§, RFC μ¬μ‹λ„
- β… **κ³ μ„±λ¥**: μλ§ κ° λ™μ‹ ν΄λΌμ΄μ–ΈνΈ μ§€μ›
- β… **μ•μ „μ„±**: μ‹μ¤ν… μ„¤μ • λ³€κ²½ μ—†μ
- β οΈ **μ ν•μ‚¬ν•­**: μ„μ‹ ν¬νΈ μ‚¬μ©, μ‹¤μ  λΈλ΅λ“μΊμ¤νΈ μ ν•

### κ΄€λ¦¬μ λ¨λ“ (μ‹¤μ  ν™κ²½)
```bash
# μ‹¤μ  DHCP ν¬νΈ μ‚¬μ©
sudo ./dhcp-server -port 67
sudo ./dhcp-tester -require-root

# κ¶ν• κ°•μ  ν™•μΈ
./dhcp-tester -require-root  # Root κ¶ν• ν•„μ
./dhcp-tester -skip-priv-check  # κ¶ν• ν™•μΈ κ±΄λ„λ›°κΈ°
```
- β… **ν¬νΈ 67/68 λ°”μΈλ”©**: μ‹¤μ  DHCP ν¬νΈ μ‚¬μ©
- β… **μ‹¤μ  λΈλ΅λ“μΊμ¤νΈ**: μ§„μ§ λ„¤νΈμ›ν¬ ν¨ν‚·
- β… **μΈν„°νμ΄μ¤ μ μ–΄**: νΉμ • λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤
- β… **μ™„μ „ν• νΈν™μ„±**: κΈ°μ΅΄ DHCP ν΄λΌμ΄μ–ΈνΈμ™€ λ™μΌ

## π“ μ„±λ¥ λ²¤μΉλ§ν¬

### π†• v2.0 μ„±λ¥ κ°μ„ μ‚¬ν•­
- **μ¬μ‹λ„ λ΅μ§**: λ¶μ•μ •ν• λ„¤νΈμ›ν¬μ—μ„ 95%+ μ„±κ³µλ¥  λ‹¬μ„±
- **λ©”λ¨λ¦¬ μµμ ν™”**: ν΄λΌμ΄μ–ΈνΈλ‹Ή λ©”λ¨λ¦¬ μ‚¬μ©λ‰ 50% κ°μ†
- **λ™μ‹ μ²λ¦¬**: μµλ€ λ™μ‹ ν΄λΌμ΄μ–ΈνΈ μ 10λ°° μ¦κ°€
- **μ‘λ‹µ μ‹κ°„**: ν‰κ·  μ²λ¦¬ μ‹κ°„ 30% λ‹¨μ¶•

### μΌλ°μ μΈ μ„±λ¥ (Intel i7, 16GB RAM)

#### ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„° (v2.0 κ°μ„ )
- **μ†κ·λ¨**: 100κ° ν΄λΌμ΄μ–ΈνΈ β†’ 0.5-1μ΄ (50% λ‹¨μ¶•)
- **μ¤‘κ°„ κ·λ¨**: 1,000κ° ν΄λΌμ΄μ–ΈνΈ β†’ 3-5μ΄ (50% λ‹¨μ¶•)
- **λ€κ·λ¨**: 10,000κ° ν΄λΌμ΄μ–ΈνΈ β†’ 15-30μ΄ (50% λ‹¨μ¶•)
- **κ·Ήν• ν…μ¤νΈ**: 100,000κ° ν΄λΌμ΄μ–ΈνΈ μ§€μ› (10λ°° μ¦κ°€)

#### μ„λ²„ μ‹λ®¬λ μ΄ν„° (v2.0 κ°μ„ )
- **μ²λ¦¬λ‰**: 100,000+ RPS (2λ°° μ¦κ°€)
- **λ™μ‹ μ—°κ²°**: 50,000+ λ™μ‹ ν΄λΌμ΄μ–ΈνΈ (5λ°° μ¦κ°€)
- **λ©”λ¨λ¦¬**: ν΄λΌμ΄μ–ΈνΈ 1,000κ°λ‹Ή μ•½ 1MB (50% κ°μ†)
- **μ‘λ‹µ μ‹κ°„**: ν‰κ·  0.5-2ms (κ°μ„ )

### π†• μ¬μ‹λ„ λ΅μ§ μ„±λ¥ λΉ„κµ
| ν™κ²½ | μ¬μ‹λ„ λΉ„ν™μ„±ν™” | μ¬μ‹λ„ ν™μ„±ν™” | κ°μ„ μ¨ |
|------|----------------|---------------|---------|
| μ •μƒ (μ†μ‹¤λ¥  0%) | 99.9% | 99.9% | λ™μΌ |
| λ¶μ•μ • (μ†μ‹¤λ¥  5%) | 75.2% | 95.8% | +27% |
| λ§¤μ° λ¶μ•μ • (μ†μ‹¤λ¥  10%) | 45.1% | 88.7% | +96% |
| κ·Ήν• ν™κ²½ (μ†μ‹¤λ¥  20%) | 18.9% | 65.3% | +245% |

## π§ QA λ° μ΄μ μ‚¬μ© μ‚¬λ΅€

### π†• μλ™ν™”λ νκ·€ ν…μ¤νΈ μ¤ν¬λ¦½νΈ

**μΌμΌ νκ·€ ν…μ¤νΈ (RFC μ¬μ‹λ„ ν¬ν•¨)**
```bash
#!/bin/bash
# DHCP μ„±λ¥ νκ·€ ν…μ¤νΈ v2.0

set -e

echo "=== DHCP μ„±λ¥ νκ·€ ν…μ¤νΈ μ‹μ‘ (v2.0) ==="

# ν…μ¤νΈ κ²°κ³Ό μ €μ¥ λ””λ ‰ν† λ¦¬
TEST_DIR="test_results_$(date +%Y%m%d_%H%M%S)"
mkdir -p $TEST_DIR

# 1. μ„λ²„ μ‹μ‘
echo "DHCP μ„λ²„ μ‹μ‘..."
./dhcp-server -live > $TEST_DIR/server.log 2>&1 &
SERVER_PID=$!
sleep 5

# 2. κΈ°λ³Έ μ„±λ¥ ν…μ¤νΈ
echo "κΈ°λ³Έ μ„±λ¥ ν…μ¤νΈ..."
./dhcp-tester -server 127.0.0.1 -clients 100 -progress \
  > $TEST_DIR/basic_test.log 2>&1

# 3. RFC μ¬μ‹λ„ ν…μ¤νΈ
echo "RFC μ¬μ‹λ„ λ΅μ§ ν…μ¤νΈ..."
./dhcp-tester -server 127.0.0.1 -clients 200 \
  -retry -max-discover-retries 3 -max-request-retries 3 \
  -progress > $TEST_DIR/retry_test.log 2>&1

# 4. Relay Agent ν…μ¤νΈ
echo "Relay Agent ν…μ¤νΈ..."
./dhcp-tester -server 127.0.0.1 -clients 200 \
  -relay -relay-ip 192.168.1.1 -circuit-id "ν…μ¤νΈν™κ²½" \
  -retry -progress > $TEST_DIR/relay_test.log 2>&1

# 5. κ³ λ¶€ν• ν…μ¤νΈ
echo "κ³ λ¶€ν• ν…μ¤νΈ..."
./dhcp-tester -server 127.0.0.1 -clients 1000 -concurrency 100 \
  -retry -max-discover-retries 2 -max-request-retries 2 \
  -progress > $TEST_DIR/load_test.log 2>&1

# 6. λ„¤νΈμ›ν¬ μ¥μ•  λ³µμ›λ ¥ ν…μ¤νΈ
echo "λ„¤νΈμ›ν¬ μ¥μ•  λ³µμ›λ ¥ ν…μ¤νΈ..."
kill $SERVER_PID
sleep 2
./dhcp-server -drop-rate 0.05 -response-delay 100ms \
  > $TEST_DIR/server_unstable.log 2>&1 &
SERVER_PID=$!
sleep 5

./dhcp-tester -server 127.0.0.1 -clients 300 -concurrency 30 \
  -retry -max-discover-retries 5 -max-request-retries 5 \
  -initial-timeout 2s -max-timeout 32s \
  -timeout 60s -progress > $TEST_DIR/resilience_test.log 2>&1

# 7. μ„λ²„ μΆ…λ£
kill $SERVER_PID

# 8. κ²°κ³Ό λ¶„μ„
echo "=== ν…μ¤νΈ κ²°κ³Ό λ¶„μ„ ==="
echo "ν…μ¤νΈ κ²°κ³Ό μ €μ¥ μ„μΉ: $TEST_DIR"
echo "κΈ°λ³Έ μ„±λ¥ ν…μ¤νΈ μ„±κ³µλ¥ : $(grep 'μ„±κ³µλ¥ :' $TEST_DIR/basic_test.log | awk '{print $2}')"
echo "μ¬μ‹λ„ ν…μ¤νΈ μ„±κ³µλ¥ : $(grep 'μ„±κ³µλ¥ :' $TEST_DIR/retry_test.log | awk '{print $2}')"
echo "Relay ν…μ¤νΈ μ„±κ³µλ¥ : $(grep 'μ„±κ³µλ¥ :' $TEST_DIR/relay_test.log | awk '{print $2}')"
echo "κ³ λ¶€ν• ν…μ¤νΈ μ„±κ³µλ¥ : $(grep 'μ„±κ³µλ¥ :' $TEST_DIR/load_test.log | awk '{print $2}')"
echo "μ¥μ•  λ³µμ› ν…μ¤νΈ μ„±κ³µλ¥ : $(grep 'μ„±κ³µλ¥ :' $TEST_DIR/resilience_test.log | awk '{print $2}')"

echo "=== ν…μ¤νΈ μ™„λ£ ==="
```

### π†• μ΄μ ν™κ²½ κ²€μ¦ μ¤ν¬λ¦½νΈ

**μ‹ κ· DHCP μ„λ²„ λ‹¨κ³„λ³„ κ²€μ¦**
```bash
#!/bin/bash
# μ‹ κ· DHCP μ„λ²„ μ΄μ ν¬μ… μ „ κ²€μ¦ μ¤ν¬λ¦½νΈ

DHCP_SERVER="192.168.1.1"
TEST_RESULTS="production_validation_$(date +%Y%m%d_%H%M%S)"
mkdir -p $TEST_RESULTS

echo "=== μ‹ κ· DHCP μ„λ²„ κ²€μ¦ μ‹μ‘: $DHCP_SERVER ==="

# 1. μ—°κ²°μ„± ν™•μΈ
echo "1. κΈ°λ³Έ μ—°κ²°μ„± ν™•μΈ..."
./dhcp-tester -server $DHCP_SERVER -clients 10 -concurrency 1 \
  -timeout 30s -verbose > $TEST_RESULTS/connectivity.log 2>&1

if [ $? -eq 0 ]; then
    echo "   β… μ—°κ²°μ„± ν™•μΈ μ™„λ£"
else
    echo "   β μ—°κ²° μ‹¤ν¨ - ν…μ¤νΈ μ¤‘λ‹¨"
    exit 1
fi

# 2. λ‹¨κ³„λ³„ λ¶€ν• μ¦κ°€ ν…μ¤νΈ (μ¬μ‹λ„ ν¬ν•¨)
for clients in 50 100 500 1000 2000; do
    echo "2. λ¶€ν• ν…μ¤νΈ: $clients ν΄λΌμ΄μ–ΈνΈ..."
    ./dhcp-tester -server $DHCP_SERVER \
        -clients $clients -concurrency $((clients/10)) \
        -retry -max-discover-retries 3 -max-request-retries 3 \
        -timeout 30s -progress > $TEST_RESULTS/load_${clients}.log 2>&1
    
    success_rate=$(grep 'μ„±κ³µλ¥ :' $TEST_RESULTS/load_${clients}.log | awk '{print $2}' | sed 's/%//')
    if (( $(echo "$success_rate < 95.0" | bc -l) )); then
        echo "   β οΈ μ„±κ³µλ¥  μ €ν• κ°μ§€: ${success_rate}% (κΈ°μ¤€: 95%)"
        echo "   κ¶μ¥ μµλ€ ν΄λΌμ΄μ–ΈνΈ μ: $((clients/2))"
        break
    else
        echo "   β… $clients ν΄λΌμ΄μ–ΈνΈ μ„±κ³µλ¥ : ${success_rate}%"
    fi
    sleep 10
done

# 3. Relay Agent κµ¬μ„± κ²€μ¦
if [ ! -z "$RELAY_IP" ]; then
    echo "3. Relay Agent κµ¬μ„± κ²€μ¦..."
    ./dhcp-tester -server $DHCP_SERVER \
        -clients 500 -concurrency 50 \
        -relay -relay-ip $RELAY_IP \
        -circuit-id "μ΄μκ²€μ¦/$(hostname)" \
        -remote-id "κ²€μ¦ν΄λΌμ΄μ–ΈνΈ" \
        -retry -timeout 30s -progress > $TEST_RESULTS/relay.log 2>&1
    echo "   β… Relay Agent κ²€μ¦ μ™„λ£"
fi

# 4. μ§€μ†μ„± ν…μ¤νΈ (30λ¶„)
echo "4. μ§€μ†μ„± ν…μ¤νΈ μ‹μ‘ (30λ¶„)..."
timeout 1800 ./dhcp-tester -server $DHCP_SERVER \
    -clients 10000 -concurrency 200 \
    -retry -max-discover-retries 2 -max-request-retries 2 \
    -timeout 45s -progress > $TEST_RESULTS/endurance.log 2>&1

echo "=== κ²€μ¦ μ™„λ£: κ²°κ³Όλ” $TEST_RESULTS λ””λ ‰ν† λ¦¬ ν™•μΈ ==="
```

## π”§ λ¬Έμ  ν•΄κ²°

### π†• μΌλ°μ μΈ λ¬Έμ λ“¤ λ° ν•΄κ²°μ±…

**μ¬μ‹λ„ κ΄€λ ¨ λ¬Έμ **
```bash
# μ¬μ‹λ„κ°€ λ„λ¬΄ λ§μ΄ λ°μƒν•λ” κ²½μ°
./dhcp-tester -retry -max-discover-retries 1 -max-request-retries 1

# μ¬μ‹λ„ νƒ€μ„μ•„μ›ƒμ΄ λ„λ¬΄ κΈ΄ κ²½μ°
./dhcp-tester -retry -initial-timeout 2s -max-timeout 16s

# μ§€ν„°λ΅ μΈν• λ¶κ·μΉ™ν• μ§€μ—°
./dhcp-tester -retry -disable-jitter  # μ§€ν„° λΉ„ν™μ„±ν™”
```

**κ¶ν• κ΄€λ ¨ λ¬Έμ **
```bash
# κ¶ν• μƒνƒ ν™•μΈ
./dhcp-tester -skip-priv-check  # κ¶ν• ν™•μΈ κ±΄λ„λ›°κΈ°

# ν¬νΈ λ°”μΈλ”© μ‹¤ν¨
sudo ./dhcp-tester -require-root  # Root κ¶ν•μΌλ΅ κ°•μ  μ‹¤ν–‰

# λΈλ΅λ“μΊμ¤νΈ κ¶ν• μ—†μ
./dhcp-tester -server 127.0.0.1  # λ΅μ»¬ μ„λ²„λ΅ ν…μ¤νΈ
```

**μ„±λ¥ κ΄€λ ¨ λ¬Έμ **
```bash
# λ©”λ¨λ¦¬ λ¶€μ΅± μ‹ λ°°μΉ μ²λ¦¬
for i in {1..10}; do
    ./dhcp-tester -clients 1000 -concurrency 50
    sleep 5
done

# CPU μ‚¬μ©λ¥ μ΄ λ†’μ„ λ•
./dhcp-tester -clients 5000 -concurrency 100  # λ™μ‹μ„± μ΅°μ •

# λ„¤νΈμ›ν¬ ν¬ν™” μ‹
./dhcp-tester -clients 1000 -concurrency 20 -timeout 30s
```

### π†• κ³ κΈ‰ λ””λ²„κΉ…

**λ‹¨κ³„λ³„ λ””λ²„κΉ…**
```bash
# 1λ‹¨κ³„: κΈ°λ³Έ μ—°κ²° ν™•μΈ
./dhcp-tester -server 127.0.0.1 -clients 1 -verbose -timeout 60s

# 2λ‹¨κ³„: μ¬μ‹λ„ λ΅μ§ μƒμ„Έ λ¶„μ„
./dhcp-tester -server 127.0.0.1 -clients 5 \
  -retry -max-discover-retries 3 -max-request-retries 3 \
  -verbose -concurrency 1 -timeout 120s

# 3λ‹¨κ³„: Relay Agent κ²€μ¦
./dhcp-tester -server 127.0.0.1 -clients 3 \
  -relay -relay-ip 192.168.1.1 -circuit-id "λ””λ²„κ·Έν…μ¤νΈ" \
  -verbose -concurrency 1

# 4λ‹¨κ³„: ν¨ν‚· μΊ΅μ² λ¶„μ„ (κ³ κΈ‰)
sudo tcpdump -i any -w debug.pcap -s 0 port 67 or port 68 &
./dhcp-tester -server 192.168.1.1 -clients 10 -verbose
sudo killall tcpdump
wireshark debug.pcap  # Wiresharkλ΅ λ¶„μ„
```

**λ΅κ·Έ λ¶„μ„ λ„κµ¬**
```bash
# μ„±κ³µλ¥  λ¶„μ„
grep "μ„±κ³µλ¥ :" *.log | awk '{print $2}' | sort -n

# μ‘λ‹µ μ‹κ°„ λ¶„μ„
grep "ν‰κ·  ν‘μƒ μ‹κ°„:" *.log | awk '{print $3}' | sort -n

# μ—λ¬ λ¶„μ„
grep "ERROR\|μ‹¤ν¨\|νƒ€μ„μ•„μ›ƒ" *.log | sort | uniq -c
```

## π“ μ¶λ ¥ μμ‹

### π†• ν΄λΌμ΄μ–ΈνΈ ν…μ¤ν„° μƒμ„Έ μ”μ•½ (v2.0)
```
======================================================================
DHCP μ„λ²„ μ„±λ¥ ν…μ¤νΈ κ²°κ³Ό (μ™„μ „ν• 4-way handshake + RFC 2131 μ¬μ‹λ„)
======================================================================
κ° ν΄λΌμ΄μ–ΈνΈκ°€ μν–‰ν• κ³Όμ •: Discover β†’ Offer β†’ Request β†’ ACK
----------------------------------------------------------------------
μ΄ μ”μ²­ μ:               1000
μ„±κ³µ μ”μ²­ μ:              987
μ‹¤ν¨ μ”μ²­ μ:               13
μ„±κ³µλ¥ :                  98.7%
μ΄ ν…μ¤νΈ μ‹κ°„:            24s
μ΄λ‹Ή μ™„λ£ μ:            41.5 completions/s
Relay ν…μ¤νΈ μ:           987

----------------------------------------------------------------------
μ™„μ „ν• DHCP ν‘μƒ μ‹κ°„ ν†µκ³„ (Discover~ACK μ „μ²΄ κ³Όμ •)
----------------------------------------------------------------------
μµμ† ν‘μƒ μ‹κ°„:          15.2ms
μµλ€ ν‘μƒ μ‹κ°„:         234.7ms
ν‰κ·  ν‘μƒ μ‹κ°„:          45.8ms
μ¤‘κ°„κ°’ ν‘μƒ μ‹κ°„:        42.1ms
95νΌμ„Όνƒ€μΌ:             89.3ms
99νΌμ„Όνƒ€μΌ:            156.2ms

π’΅ μ°Έκ³ : μ„ μ‹κ°„μ€ κ° ν΄λΌμ΄μ–ΈνΈκ°€ IP μ£Όμ†λ¥Ό μ™„μ „ν νλ“ν•λ”λ°
   κ±Έλ¦° μ „μ²΄ μ‹κ°„μ…λ‹λ‹¤ (4λ‹¨κ³„ λ¨λ‘ ν¬ν•¨ + μ¬μ‹λ„ μ‹κ°„ ν¬ν•¨)

----------------------------------------------------------------------
μ‹¤ν¨ μ›μΈ λ¶„μ„
----------------------------------------------------------------------
νƒ€μ„μ•„μ›ƒ                                          : 8κ±΄
λ„¤νΈμ›ν¬ μ—°κ²° μ‹¤ν¨                                : 3κ±΄
μ„λ²„ μ‘λ‹µ μ—†μ                                    : 2κ±΄
μ¬μ‹λ„ - μ΄ 45ν (Discover: 28ν, Request: 17ν)  : 45κ±΄
```

### π†• μ„λ²„ μ‹λ®¬λ μ΄ν„° μƒμ„Έ μ”μ•½ (v2.0)
```
======================================================================
DHCP μ„λ²„ μµμΆ… ν†µκ³„ (v2.0 + μ„Έμ… κ΄€λ¦¬)
======================================================================
κ°€λ™ μ‹κ°„:           2m34s
μ²λ¦¬λ DISCOVER:     1045  (μ¬μ‹λ„ ν¬ν•¨)
μ „μ†΅λ OFFER:        987
μ²λ¦¬λ REQUEST:      1004  (μ¬μ‹λ„ ν¬ν•¨)
μ „μ†΅λ ACK:          987
μ „μ†΅λ NAK:          17
ν‰κ·  RPS:           67.8 requests/sec
μµμΆ… IP μ‚¬μ©λ¥ :      86.1% (87/101)

μ„Έμ… κ΄€λ¦¬ ν†µκ³„:
  ν™μ„± μ„Έμ…:         87κ°
  λ§λ£λ μ„Έμ…:       912κ° (μλ™ μ •λ¦¬λ¨)
  μ΄ μƒμ„±λ μ„Έμ…:    999κ°

λ„¤νΈμ›ν¬ μ‹λ®¬λ μ΄μ…:
  μ‹λ®¬λ μ΄μ…λ ν¨ν‚· λ“λ΅­:  52κ° (5.0%)
  ν‰κ·  μ‘λ‹µ μ§€μ—°:         50ms

μ—λ¬ ν†µκ³„:
  νμ‹± μ¤λ¥:         2
  IP ν’€ κ³ κ°:        0
  μλ»λ μ”μ²­:       15
```

## π¤ κΈ°μ—¬ν•κΈ°

### κ°λ° ν™κ²½ μ„¤μ •
```bash
# μ €μ¥μ† ν΄λ΅ 
git clone <μ €μ¥μ†-URL>
cd dhcp-performance-test-suite-v2

# μμ΅΄μ„± μ„¤μΉ
go mod init dhcp-test-suite
go mod tidy

# ν…μ¤νΈ μ‹¤ν–‰
go test ./...

# λ²¤μΉλ§ν¬ ν…μ¤νΈ
go test -bench=. -benchmem

# μ •μ  λ¶„μ„
go vet ./...
golangci-lint run
```

### π†• v2.0 κ°λ° κ°€μ΄λ“λΌμΈ
- **RFC μ¤€μ**: RFC 2131, RFC 3046 λ“± κ΄€λ ¨ ν‘μ¤€ μ¤€μ
- **μ„±λ¥ μµμ ν™”**: λ©”λ¨λ¦¬ ν’€, κ³ λ£¨ν‹΄ μµμ ν™” μ μ©
- **μ—λ¬ μ²λ¦¬**: μƒμ„Έν• μ—λ¬ λ¶„λ¥ λ° λ³µκµ¬ λ΅μ§
- **ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: 90% μ΄μƒ μ μ§€
- **λ²¤μΉλ§ν¬**: μ„±λ¥ νκ·€ λ°©μ§€λ¥Ό μ„ν• λ²¤μΉλ§ν¬ ν…μ¤νΈ
- **λ¬Έμ„ν™”**: μ½”λ“ μ£Όμ„ λ° μ‚¬μ© μμ‹ μ¶©μ‹¤ν μ‘μ„±

## π“„ λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” MIT λΌμ΄μ„ μ¤λ¥Ό λ”°λ¦…λ‹λ‹¤. μμ„Έν• λ‚΄μ©μ€ LICENSE νμΌμ„ μ°Έμ΅°ν•μ„Έμ”.

## π† μ§€μ› λ° λ¬Έμ

- **GitHub Issues**: λ²„κ·Έ λ¦¬ν¬νΈ λ° κΈ°λ¥ μ”μ²­
- **λ¬Έμ  ν•΄κ²° κ°€μ΄λ“**: μ„μ λ¬Έμ  ν•΄κ²° μ„Ήμ… μ°Έμ΅°
- **λ…λ Ήμ–΄ λ„μ›€λ§**: `./dhcp-tester -h`, `./dhcp-server -h`
- **μ„±λ¥ μµμ ν™” λ¬Έμ**: λ€μ©λ‰ ν™κ²½ κµ¬μ¶• μ‹ λ¬Έμ

## π”— κ΄€λ ¨ κΈ°μ 

### DHCP ν‘μ¤€ λ¬Έμ„
- **RFC 2131**: Dynamic Host Configuration Protocol
- **RFC 3046**: DHCP Relay Agent Information Option
- **RFC 4361**: Node-specific Client Identifiers
- **RFC 6842**: Client Identifier Option in Server Replies

### π†• v2.0μ—μ„ μ¶”κ°€λ΅ μ¤€μν•λ” ν‘μ¤€
- **RFC 2132**: DHCP Options and BOOTP Vendor Extensions
- **RFC 3942**: Reclassifying Dynamic Host Configuration Protocol
- **RFC 8415**: Dynamic Host Configuration Protocol for IPv6 (DHCPv6)

## π“ μ‚¬μ© μ‚¬λ΅€λ³„ κ°€μ΄λ“

### π†• ν΄λΌμ°λ“ ν™κ²½ κ΄€λ¦¬μ
```bash
# AWS/Azure ν™κ²½μ—μ„ VPC DHCP ν…μ¤νΈ
./dhcp-server -start-ip 10.0.1.100 -end-ip 10.0.1.200 \
  -gateway 10.0.1.1 -dns1 10.0.0.2 -live &

# ν΄λΌμ°λ“ μΈμ¤ν„΄μ¤ μ‹λ®¬λ μ΄μ…
./dhcp-tester -server 127.0.0.1 -clients 1000 \
  -retry -max-discover-retries 2 -max-request-retries 2 \
  -initial-timeout 3s -max-timeout 30s \
  -circuit-id "ν΄λΌμ°λ“/κ°€μ©μμ—­A/μ„λΈλ„·1" \
  -live
```

### π†• λ„¤νΈμ›ν¬ λ³΄μ• κ΄€λ¦¬μ
```bash
# DHCP λ³΄μ• κ°μ‚¬ ν…μ¤νΈ
./dhcp-tester -server 192.168.1.1 -clients 50 \
  -relay -relay-ip 192.168.1.254 \
  -circuit-id "λ³΄μ•κ°μ‚¬/$(date +%Y%m%d)" \
  -remote-id "λ³΄μ•ν…μ¤νΈν΄λΌμ΄μ–ΈνΈ" \
  -retry -verbose

# λΉ„μ •μƒ νΈλν”½ ν¨ν„΄ ν…μ¤νΈ
./dhcp-tester -server 192.168.1.1 -clients 10000 \
  -concurrency 1000 -timeout 5s \
  -circuit-id "λ¶€ν•ν…μ¤νΈ/λ³΄μ•κ°μ‚¬" \
  -live
```

### π†• IoT ν™κ²½ κ°λ°μ
```bash
# IoT λ””λ°”μ΄μ¤ λ€λ‰ μ—°κ²° μ‹λ®¬λ μ΄μ…
./dhcp-server -start-ip 192.168.100.10 -end-ip 192.168.100.254 \
  -lease-time 1h -offer-timeout 60s \
  -response-delay 100ms -live &

# IoT λ””λ°”μ΄μ¤ νΉμ„± λ°μ (λ‚®μ€ λ™μ‹μ„±, λ†’μ€ μ¬μ‹λ„)
./dhcp-tester -server 127.0.0.1 -clients 1000 \
  -concurrency 20 \
  -retry -max-discover-retries 5 -max-request-retries 5 \
  -initial-timeout 10s -max-timeout 120s \
  -circuit-id "IoTκ²μ΄νΈμ›¨μ΄/μ„Όμ„λ„¤νΈμ›ν¬" \
  -timeout 180s -live
```

---

**π‡°π‡· ν•κµ­ λ„¤νΈμ›ν¬ ν™κ²½ μµμ ν™” v2.0** | **Go κ³ μ„±λ¥ + RFC μ™„μ „ μ¤€μ** | **μ μ‘μ ν„μλ³µ 2025**

> RFC 2131/3046 μ™„μ „ μ¤€μμ™€ ν•¨κ» ν•κµ­μ λ‹¤μ–‘ν• λ„¤νΈμ›ν¬ ν™κ²½μ„ κ³ λ ¤ν•μ—¬ μ μ‘λ 
> μ „λ¬Έμ μΈ DHCP μ„±λ¥ ν…μ¤νΈ μ†”λ£¨μ… v2.0μ…λ‹λ‹¤. μ§€μ λ°±μ¤ν”„ μ¬μ‹λ„ λ΅μ§, ν–¥μƒλ 
> μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§, μ„Έμ… κ΄€λ¦¬ κΈ°λ¥μ΄ μ¶”κ°€λμ–΄ λ”μ± μ•μ •μ μ΄κ³  μ •ν™•ν• ν…μ¤νΈκ°€ 
> κ°€λ¥ν•©λ‹λ‹¤. κΈ°μ—…, ISP, κµμ΅κΈ°κ΄€, ν΄λΌμ°λ“ ν™κ²½μ—μ„ λ°”λ΅ μ‚¬μ©ν•  μ μλ” 
> μ™„μ „ν• ν…μ¤νΈ ν™κ²½μ„ μ κ³µν•©λ‹λ‹¤.

> β οΈ **μ¤‘μ”**: λ°λ“μ‹ ν…μ¤νΈ ν™κ²½μ—μ„λ§ μ‚¬μ©ν•μ‹κΈΈ κ¶μ¥ν•©λ‹λ‹¤. μ΄μ ν™κ²½μ—μ„ 
> μ‚¬μ© μ‹μ—λ” μ¶©λ¶„ν• κ²€μ¦κ³Ό μΉμΈ μ μ°¨λ¥Ό κ±°μΉμ‹κΈ° λ°”λλ‹λ‹¤.
