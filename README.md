# DHCP ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì†”ë£¨ì…˜

Go ì–¸ì–´ë¡œ ê°œë°œëœ ì™„ì „í•œ DHCP í…ŒìŠ¤íŠ¸ í™˜ê²½ìœ¼ë¡œ, **ê³ ì„±ëŠ¥ í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„°**ì™€ **DHCP ì„œë²„ ì‹œë®¬ë ˆì´í„°**ë¥¼ í¬í•¨í•˜ì—¬ ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ ì™„ë²½í•˜ê²Œ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤.

## ğŸ¯ ì†”ë£¨ì…˜ êµ¬ì„±

### ğŸ“± **DHCP í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„°** (`dhcp-tester`)
- ìˆ˜ì²œ ê°œì˜ ê°€ìƒ DHCP í´ë¼ì´ì–¸íŠ¸ ì‹œë®¬ë ˆì´ì…˜
- ì™„ì „í•œ 4-way handshake ìˆ˜í–‰
- ì‹¤ì‹œê°„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
- Relay Agent ì§€ì›

### ğŸ–¥ï¸ **DHCP ì„œë²„ ì‹œë®¬ë ˆì´í„°** (`dhcp-server`)
- RFC ì¤€ìˆ˜ DHCP ì„œë²„ êµ¬í˜„
- ë™ì  IP í’€ ê´€ë¦¬
- Relay Agent ì™„ì „ ì§€ì›
- ë„¤íŠ¸ì›Œí¬ ì§€ì—°/ì†ì‹¤ ì‹œë®¬ë ˆì´ì…˜

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### í•µì‹¬ ê¸°ëŠ¥
- **ì™„ì „í•œ DHCP í”„ë¡œí† ì½œ**: `Discover â†’ Offer â†’ Request â†’ ACK` ì „ì²´ ê³¼ì •
- **RFC 3046 Relay Agent**: Option 82, Circuit ID, Remote ID ì™„ì „ ì§€ì›
- **ê³ ì„±ëŠ¥ ë™ì‹œ ì²˜ë¦¬**: Go ë£¨í‹´ ê¸°ë°˜ ìˆ˜ì²œ ê°œ ë™ì‹œ í´ë¼ì´ì–¸íŠ¸
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: Curses ìŠ¤íƒ€ì¼ ëŒ€ì‹œë³´ë“œ
- **ì™„ì „í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½**: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ ì œê³µ

### ê³ ê¸‰ ê¸°ëŠ¥
- **ë„¤íŠ¸ì›Œí¬ ì‹œë®¬ë ˆì´ì…˜**: ì§€ì—°, íŒ¨í‚· ì†ì‹¤, ëŒ€ì—­í­ ì œí•œ
- **ì„±ëŠ¥ ë¶„ì„**: ì‘ë‹µ ì‹œê°„, ì²˜ë¦¬ëŸ‰, ì„±ê³µë¥  ìƒì„¸ ë¶„ì„
- **ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸**: ê¸°ì—…, ISP, êµìœ¡ê¸°ê´€ í™˜ê²½ ëª¨ì‚¬
- **ë¶€í•˜ í…ŒìŠ¤íŠ¸**: ì„œë²„ í•œê³„ì  ë° ë³‘ëª© ì§€ì  ë°œê²¬

## ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- **Go 1.16+** (ì»´íŒŒì¼ìš©)
- **Linux/macOS/Windows** (í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì›)
- **ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼** (ì‹¤ì œ DHCP ì„œë²„ í…ŒìŠ¤íŠ¸ ì‹œ)
- **ì„ íƒì‚¬í•­**: ê´€ë¦¬ì ê¶Œí•œ (í¬íŠ¸ 67/68 ë°”ì¸ë”©)

## ğŸ”§ ì„¤ì¹˜ ë° ì»´íŒŒì¼

### ë¹ ë¥¸ ì‹œì‘
```bash
# í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„° ì»´íŒŒì¼
go build -o dhcp-tester dhcp-tester.go

# ì„œë²„ ì‹œë®¬ë ˆì´í„° ì»´íŒŒì¼
go build -o dhcp-server dhcp-server.go

# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬ (Linux/macOS)
chmod +x dhcp-tester dhcp-server
```

### í”Œë«í¼ë³„ ì»´íŒŒì¼
```bash
# Linuxìš©
GOOS=linux GOARCH=amd64 go build -o dhcp-tester-linux dhcp-tester.go
GOOS=linux GOARCH=amd64 go build -o dhcp-server-linux dhcp-server.go

# Windowsìš©
GOOS=windows GOARCH=amd64 go build -o dhcp-tester.exe dhcp-tester.go
GOOS=windows GOARCH=amd64 go build -o dhcp-server.exe dhcp-server.go
```

## ğŸ“– ê¸°ë³¸ ì‚¬ìš©ë²•

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë¡œì»¬ í…ŒìŠ¤íŠ¸ í™˜ê²½

**í„°ë¯¸ë„ 1 - DHCP ì„œë²„ ì‹œì‘**
```bash
# ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ê³¼ í•¨ê»˜ ì„œë²„ ì‹œì‘
./dhcp-server -live -verbose \
  -start-ip 192.168.1.100 \
  -end-ip 192.168.1.200 \
  -gateway 192.168.1.1
```

**í„°ë¯¸ë„ 2 - í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸**
```bash
# ì„œë²„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
./dhcp-tester -server 127.0.0.1 -clients 100 -concurrency 20 -live
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì‹¤ì œ DHCP ì„œë²„ í…ŒìŠ¤íŠ¸

```bash
# ì‹¤ì œ ìš´ì˜ ì¤‘ì¸ DHCP ì„œë²„ í…ŒìŠ¤íŠ¸
./dhcp-tester -server 192.168.1.1 -clients 500 -concurrency 50 -live
```

## ğŸ¢ ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ë³„ ì‚¬ìš©ë²•

### ê¸°ì—… ë„¤íŠ¸ì›Œí¬ í™˜ê²½

**ì„œë²„ ì„¤ì • (ê¸°ì—… í™˜ê²½)**
```bash
./dhcp-server -live \
  -start-ip 10.10.1.100 \
  -end-ip 10.10.1.200 \
  -gateway 10.10.1.1 \
  -dns1 10.10.1.10 \
  -dns2 8.8.8.8 \
  -domain "company.local" \
  -lease-time 8h
```

**í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ (ê¸°ì—… í™˜ê²½)**
```bash
# ë³¸ì‚¬ ë„¤íŠ¸ì›Œí¬ (2000ëª… ê·œëª¨)
./dhcp-tester -server 127.0.0.1 \
  -clients 2000 -concurrency 200 \
  -relay -relay-ip 10.10.1.1 \
  -circuit-id "ë³¸ì‚¬ë¹Œë”©/3ì¸µìŠ¤ìœ„ì¹˜/í¬íŠ¸48" \
  -remote-id "ì§ì›ë„¤íŠ¸ì›Œí¬" \
  -live -timeout 10s

# ì§€ì  ë„¤íŠ¸ì›Œí¬ (100ëª… ê·œëª¨)
./dhcp-tester -server 192.168.1.1 \
  -clients 100 -concurrency 20 \
  -relay -relay-ip 172.16.1.1 \
  -circuit-id "ì§€ì 01/ìŠ¤ìœ„ì¹˜01" \
  -live
```

### ISP/í†µì‹ ì‚¬ í™˜ê²½

**ì„œë²„ ì„¤ì • (ISP í™˜ê²½)**
```bash
./dhcp-server -live \
  -start-ip 172.20.0.10 \
  -end-ip 172.20.10.250 \
  -gateway 172.20.0.1 \
  -lease-time 24h \
  -max-concurrent 5000 \
  -response-delay 10ms
```

**í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ (ISP í™˜ê²½)**
```bash
# FTTH ê°€ì…ì í…ŒìŠ¤íŠ¸ (10000ëª…)
./dhcp-tester -server 127.0.0.1 \
  -clients 10000 -concurrency 500 \
  -relay -relay-ip 203.0.113.1 \
  -circuit-id "OLT-seoul-01/PON-24" \
  -remote-id "ì•„íŒŒíŠ¸ë‹¨ì§€A" \
  -live -timeout 15s

# ì¼€ì´ë¸” ëª¨ë€ í™˜ê²½
./dhcp-tester -server 127.0.0.1 \
  -clients 5000 -concurrency 200 \
  -relay -relay-ip 192.168.100.1 \
  -circuit-id "CMTS-01/DS-12/US-4" \
  -live
```

### êµìœ¡ê¸°ê´€ ë„¤íŠ¸ì›Œí¬

**ì„œë²„ ì„¤ì • (ëŒ€í•™êµ)**
```bash
./dhcp-server -live \
  -start-ip 172.16.10.10 \
  -end-ip 172.16.20.250 \
  -gateway 172.16.10.1 \
  -dns1 172.16.1.10 \
  -domain "university.ac.kr" \
  -lease-time 12h
```

**í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ (êµìœ¡ê¸°ê´€)**
```bash
# ëŒ€í•™êµ ê¸°ìˆ™ì‚¬ (1000ëª…)
./dhcp-tester -server 127.0.0.1 \
  -clients 1000 -concurrency 100 \
  -relay -relay-ip 172.16.10.1 \
  -circuit-id "ê¸°ìˆ™ì‚¬Aë™/ìŠ¤ìœ„ì¹˜24" \
  -remote-id "í•™ìƒë„¤íŠ¸ì›Œí¬" \
  -live

# ë„ì„œê´€ ë¬´ì„ ëœ (500ëª…)
./dhcp-tester -server 127.0.0.1 \
  -clients 500 -concurrency 50 \
  -relay -relay-ip 172.20.1.1 \
  -circuit-id "ë„ì„œê´€/ë¬´ì„ AP-3ì¸µ" \
  -live
```

## ğŸ›ï¸ ëª…ë ¹í–‰ ì˜µì…˜

### DHCP í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„° (`dhcp-tester`)

#### ê¸°ë³¸ ì˜µì…˜
| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|---------|------|
| `-server` | `255.255.255.255` | DHCP ì„œë²„ IP ì£¼ì†Œ |
| `-port` | `67` | DHCP ì„œë²„ í¬íŠ¸ |
| `-clients` | `100` | í…ŒìŠ¤íŠ¸í•  í´ë¼ì´ì–¸íŠ¸ ìˆ˜ |
| `-concurrency` | `10` | ë™ì‹œ ì‹¤í–‰í•  ê³ ë£¨í‹´ ìˆ˜ |
| `-timeout` | `5s` | ì‘ë‹µ ëŒ€ê¸° ì‹œê°„ |

#### í‘œì‹œ ëª¨ë“œ
| ì˜µì…˜ | ì„¤ëª… |
|------|------|
| `-live` | ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ ëª¨ë‹ˆí„°ë§ |
| `-verbose` | í´ë¼ì´ì–¸íŠ¸ë³„ ìƒì„¸ DHCP ê³¼ì • ë¡œê·¸ |
| `-progress` | ê°„ë‹¨í•œ ì§„í–‰ë¥  í‘œì‹œ (ê¸°ë³¸ê°’) |

#### Relay Agent ì˜µì…˜
| ì˜µì…˜ | ì„¤ëª… |
|------|------|
| `-relay` | DHCP Relay Agent ëª¨ë“œ í™œì„±í™” |
| `-relay-ip` | Relay Agent IP ì£¼ì†Œ (giaddr) |
| `-circuit-id` | Option 82 Circuit ID |
| `-remote-id` | Option 82 Remote ID |
| `-hops` | Relay hop count (ê¸°ë³¸ê°’: 1) |
| `-max-hops` | ìµœëŒ€ í—ˆìš© hop count (ê¸°ë³¸ê°’: 4) |

### DHCP ì„œë²„ ì‹œë®¬ë ˆì´í„° (`dhcp-server`)

#### ê¸°ë³¸ ì„¤ì •
| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|---------|------|
| `-listen` | `0.0.0.0` | ì„œë²„ ë°”ì¸ë”© IP |
| `-port` | `67` | ì„œë²„ í¬íŠ¸ |
| `-start-ip` | `192.168.100.10` | IP í’€ ì‹œì‘ ì£¼ì†Œ |
| `-end-ip` | `192.168.100.250` | IP í’€ ì¢…ë£Œ ì£¼ì†Œ |
| `-gateway` | `192.168.100.1` | ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ |
| `-dns1` | `8.8.8.8` | ì²« ë²ˆì§¸ DNS ì„œë²„ |
| `-dns2` | `8.8.4.4` | ë‘ ë²ˆì§¸ DNS ì„œë²„ |
| `-domain` | `example.com` | ë„ë©”ì¸ ì´ë¦„ |
| `-lease-time` | `24h` | IP ì„ëŒ€ ì‹œê°„ |

#### ì„±ëŠ¥ ë° ì‹œë®¬ë ˆì´ì…˜
| ì˜µì…˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|---------|------|
| `-max-concurrent` | `1000` | ìµœëŒ€ ë™ì‹œ ì²˜ë¦¬ ìˆ˜ |
| `-response-delay` | `0` | ì‘ë‹µ ì§€ì—° ì‹œë®¬ë ˆì´ì…˜ |
| `-drop-rate` | `0.0` | íŒ¨í‚· ë“œë¡­ë¥  (0.0-1.0) |
| `-relay` | `true` | Relay Agent ì§€ì› |
| `-max-hops` | `4` | ìµœëŒ€ í—ˆìš© hop count |

#### í‘œì‹œ ì˜µì…˜
| ì˜µì…˜ | ì„¤ëª… |
|------|------|
| `-live` | ì‹¤ì‹œê°„ ì„œë²„ í†µê³„ ëŒ€ì‹œë³´ë“œ |
| `-verbose` | ìƒì„¸ DHCP ë©”ì‹œì§€ ë¡œê·¸ |

## ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

### í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„° ëŒ€ì‹œë³´ë“œ
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    DHCP ì„œë²„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

í…ŒìŠ¤íŠ¸ ì„¤ì •
  ì„œë²„: 127.0.0.1:67  (Relay: 192.168.1.1)
  í´ë¼ì´ì–¸íŠ¸: 1000, ê²½ê³¼ì‹œê°„: 12s

ì „ì²´ ì§„í–‰ë¥ 
  ì§„í–‰: 456/1000 (45.6%) [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 45.6%
  ì„±ê³µ: 398, ì‹¤íŒ¨: 58, ì„±ê³µë¥ : 87.3%

â”Œâ”€ DHCP 4-Way Handshake ì‹¤ì‹œê°„ í†µê³„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. DISCOVER ì „ì†¡:      456 ê°œ    3. REQUEST ì „ì†¡:     398 ê°œ  â”‚
â”‚  2. OFFER ìˆ˜ì‹ :         398 ê°œ    4. ACK ìˆ˜ì‹ :         398 ê°œ  â”‚
â”‚                                                                    â”‚
â”‚  í‰ê·  ì‘ë‹µì‹œê°„:                                                    â”‚
â”‚    Discover â†’ Offer:   15.2ms      Request â†’ ACK:    12.8ms    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„œë²„ ì‹œë®¬ë ˆì´í„° ëŒ€ì‹œë³´ë“œ
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        DHCP ì„œë²„ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ì„œë²„ ì •ë³´
  ì£¼ì†Œ: 0.0.0.0:67  (Relay ì§€ì›)
  ê°€ë™ ì‹œê°„: 2m34s
  IP í’€: 192.168.1.100 - 192.168.1.200 (101ê°œ)

â”Œâ”€ DHCP ë©”ì‹œì§€ í†µê³„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ìˆ˜ì‹ : DISCOVER      456    REQUEST      398                         â”‚
â”‚  ì „ì†¡: OFFER         398    ACK          398    NAK        5     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

IP í’€ ìƒíƒœ
  ì‚¬ìš© ì¤‘: 87, ì‚¬ìš© ê°€ëŠ¥: 14, ì‚¬ìš©ë¥ : 86.1%
  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 86.1%
```

## ğŸ§ª ê³ ê¸‰ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ë„¤íŠ¸ì›Œí¬ ì§€ì—° ë° ì†ì‹¤ ì‹œë®¬ë ˆì´ì…˜

**ë†’ì€ ì§€ì—° í™˜ê²½**
```bash
# ì„œë²„: 100ms ì‘ë‹µ ì§€ì—°
./dhcp-server -response-delay 100ms -live

# í´ë¼ì´ì–¸íŠ¸: ì§€ì—°ëœ í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸
./dhcp-tester -server 127.0.0.1 -clients 200 -timeout 15s -live
```

**íŒ¨í‚· ì†ì‹¤ í™˜ê²½**
```bash
# ì„œë²„: 5% íŒ¨í‚· ë“œë¡­
./dhcp-server -drop-rate 0.05 -live -verbose

# í´ë¼ì´ì–¸íŠ¸: ì†ì‹¤ í™˜ê²½ì—ì„œ ì¬ì „ì†¡ í…ŒìŠ¤íŠ¸
./dhcp-tester -server 127.0.0.1 -clients 300 -timeout 20s -live
```

### 2. IP í’€ ê³ ê°ˆ í…ŒìŠ¤íŠ¸

**ì œí•œëœ IP í’€**
```bash
# ì„œë²„: ì‘ì€ IP í’€ (20ê°œë§Œ)
./dhcp-server -start-ip 192.168.1.10 -end-ip 192.168.1.29 -live

# í´ë¼ì´ì–¸íŠ¸: í’€ë³´ë‹¤ ë§ì€ í´ë¼ì´ì–¸íŠ¸ (100ê°œ)
./dhcp-tester -server 127.0.0.1 -clients 100 -concurrency 20 -live
```

### 3. ëŒ€ìš©ëŸ‰ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹

**ìµœëŒ€ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**
```bash
# ì„œë²„: ëŒ€ìš©ëŸ‰ IP í’€ê³¼ ë†’ì€ ë™ì‹œì„±
./dhcp-server -live \
  -start-ip 10.0.0.10 \
  -end-ip 10.0.10.250 \
  -max-concurrent 2000

# í´ë¼ì´ì–¸íŠ¸: ëŒ€ëŸ‰ ë¶€í•˜ í…ŒìŠ¤íŠ¸
./dhcp-tester -server 127.0.0.1 \
  -clients 10000 -concurrency 500 \
  -timeout 30s -live
```

### 4. Multi-hop Relay í™˜ê²½

**ë³µì¡í•œ Relay êµ¬ì¡°**
```bash
# ì„œë²„: ë‹¤ì¤‘ í™‰ ì§€ì›
./dhcp-server -live -max-hops 6 -response-delay 20ms

# í´ë¼ì´ì–¸íŠ¸: 3ë‹¨ê³„ Relay ì‹œë®¬ë ˆì´ì…˜
./dhcp-tester -server 127.0.0.1 \
  -clients 500 -concurrency 50 \
  -relay -relay-ip 192.168.1.1 \
  -hops 3 -max-hops 6 \
  -circuit-id "ë¼ìš°í„°1/ë¼ìš°í„°2/ìŠ¤ìœ„ì¹˜3/í¬íŠ¸24" \
  -live
```

## ğŸ” ê¶Œí•œ ìš”êµ¬ì‚¬í•­

### ì¼ë°˜ ì‚¬ìš©ì ëª¨ë“œ (ê¶Œì¥)
- âœ… **ì™„ì „í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½**: í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ ë™ì‘
- âœ… **ëª¨ë“  ê¸°ëŠ¥**: Relay Agent, ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ë“±
- âœ… **ê³ ì„±ëŠ¥**: ìˆ˜ì²œ ê°œ ë™ì‹œ í´ë¼ì´ì–¸íŠ¸ ì§€ì›
- âš ï¸ **ì œí•œì‚¬í•­**: ì„ì‹œ í¬íŠ¸ ì‚¬ìš©, ì‹¤ì œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ ì œí•œ

### ê´€ë¦¬ì ëª¨ë“œ (ì‹¤ì œ í™˜ê²½)
```bash
# ì‹¤ì œ DHCP í¬íŠ¸ ì‚¬ìš©
sudo ./dhcp-server -port 67
sudo ./dhcp-tester -require-root
```
- âœ… **í¬íŠ¸ 67/68 ë°”ì¸ë”©**: ì‹¤ì œ DHCP í¬íŠ¸ ì‚¬ìš©
- âœ… **ì‹¤ì œ ë¸Œë¡œë“œìºìŠ¤íŠ¸**: ì§„ì§œ ë„¤íŠ¸ì›Œí¬ íŒ¨í‚·
- âœ… **ì¸í„°í˜ì´ìŠ¤ ì œì–´**: íŠ¹ì • ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤

## ğŸ“ˆ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

### ì¼ë°˜ì ì¸ ì„±ëŠ¥ (Intel i7, 16GB RAM)

#### í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„°
- **ì†Œê·œëª¨**: 100ê°œ í´ë¼ì´ì–¸íŠ¸ â†’ 1-2ì´ˆ
- **ì¤‘ê°„ ê·œëª¨**: 1,000ê°œ í´ë¼ì´ì–¸íŠ¸ â†’ 5-10ì´ˆ  
- **ëŒ€ê·œëª¨**: 10,000ê°œ í´ë¼ì´ì–¸íŠ¸ â†’ 30-60ì´ˆ
- **ê·¹í•œ í…ŒìŠ¤íŠ¸**: 100,000ê°œ í´ë¼ì´ì–¸íŠ¸ ì§€ì›

#### ì„œë²„ ì‹œë®¬ë ˆì´í„°
- **ì²˜ë¦¬ëŸ‰**: 50,000+ RPS
- **ë™ì‹œ ì—°ê²°**: 10,000+ ë™ì‹œ í´ë¼ì´ì–¸íŠ¸
- **ë©”ëª¨ë¦¬**: í´ë¼ì´ì–¸íŠ¸ 1,000ê°œë‹¹ ì•½ 2MB
- **ì‘ë‹µ ì‹œê°„**: í‰ê·  1-5ms

### í•˜ë“œì›¨ì–´ ê¶Œì¥ì‚¬í•­
- **CPU**: 4ì½”ì–´ ì´ìƒ (ê³ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ìš©)
- **ë©”ëª¨ë¦¬**: 8GB ì´ìƒ (ëŒ€ëŸ‰ í´ë¼ì´ì–¸íŠ¸ìš©)
- **ë„¤íŠ¸ì›Œí¬**: ê¸°ê°€ë¹„íŠ¸ ì´ìƒ (ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸ìš©)

## ğŸ§ª QA ë° ìš´ì˜ ì‚¬ìš© ì‚¬ë¡€

### ê°œë°œ/QA í™˜ê²½

**ì¼ì¼ íšŒê·€ í…ŒìŠ¤íŠ¸**
```bash
#!/bin/bash
# ìë™í™”ëœ DHCP í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

echo "=== DHCP ì„±ëŠ¥ íšŒê·€ í…ŒìŠ¤íŠ¸ ì‹œì‘ ==="

# 1. ì„œë²„ ì‹œì‘
./dhcp-server -live > server.log 2>&1 &
SERVER_PID=$!
sleep 5

# 2. ê¸°ë³¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
echo "ê¸°ë³¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸..."
./dhcp-tester -server 127.0.0.1 -clients 100 -progress

# 3. Relay Agent í…ŒìŠ¤íŠ¸
echo "Relay Agent í…ŒìŠ¤íŠ¸..."
./dhcp-tester -server 127.0.0.1 -clients 200 \
  -relay -relay-ip 192.168.1.1 -progress

# 4. ê³ ë¶€í•˜ í…ŒìŠ¤íŠ¸
echo "ê³ ë¶€í•˜ í…ŒìŠ¤íŠ¸..."
./dhcp-tester -server 127.0.0.1 -clients 1000 -concurrency 100 -progress

# 5. ì„œë²„ ì¢…ë£Œ
kill $SERVER_PID
echo "=== í…ŒìŠ¤íŠ¸ ì™„ë£Œ ==="
```

### ìš´ì˜ í™˜ê²½ ê²€ì¦

**ì‹ ê·œ DHCP ì„œë²„ ê²€ì¦**
```bash
# ë‹¨ê³„ë³„ ë¶€í•˜ ì¦ê°€ í…ŒìŠ¤íŠ¸
for clients in 100 500 1000 2000 5000; do
  echo "=== $clients í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤íŠ¸ ==="
  ./dhcp-tester -server 192.168.1.1 \
    -clients $clients -concurrency $((clients/10)) \
    -timeout 10s -progress
  sleep 30
done
```

**Relay Agent êµ¬ì„± ê²€ì¦**
```bash
# ë‹¤ì–‘í•œ Relay êµ¬ì„± í…ŒìŠ¤íŠ¸
RELAY_IPS=("10.0.1.1" "10.0.2.1" "10.0.3.1")
for relay_ip in "${RELAY_IPS[@]}"; do
  echo "=== Relay $relay_ip í…ŒìŠ¤íŠ¸ ==="
  ./dhcp-tester -server 192.168.1.1 \
    -clients 500 -concurrency 50 \
    -relay -relay-ip $relay_ip \
    -circuit-id "í…ŒìŠ¤íŠ¸í™˜ê²½/$relay_ip" \
    -progress
done
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

**ì—°ê²° ì‹¤íŒ¨**
```bash
# í¬íŠ¸ ë° ë°©í™”ë²½ í™•ì¸
sudo netstat -ulnp | grep :67
sudo iptables -L | grep 67

# í…ŒìŠ¤íŠ¸ ì—°ê²°
./dhcp-tester -server 127.0.0.1 -clients 1 -verbose
```

**ì„±ëŠ¥ ì €í•˜**
```bash
# ë™ì‹œì„± ì¡°ì •
./dhcp-tester -clients 1000 -concurrency 50  # ë™ì‹œì„± ê°ì†Œ
./dhcp-server -max-concurrent 500            # ì„œë²„ ì œí•œ

# íƒ€ì„ì•„ì›ƒ ì¦ê°€
./dhcp-tester -timeout 15s -clients 1000
```

**ë©”ëª¨ë¦¬ ë¶€ì¡±**
```bash
# ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
top -p $(pgrep dhcp-server)
top -p $(pgrep dhcp-tester)

# ë°°ì¹˜ ì²˜ë¦¬ë¡œ ë¶„í• 
for i in {1..10}; do
  ./dhcp-tester -clients 500 -concurrency 25
  sleep 10
done
```

### ë””ë²„ê¹… ëª¨ë“œ

**ìƒì„¸ ë¡œê·¸ ë¶„ì„**
```bash
# í´ë¼ì´ì–¸íŠ¸ ìƒì„¸ ë¶„ì„
./dhcp-tester -clients 5 -verbose -concurrency 1 -timeout 30s

# ì„œë²„ ìƒì„¸ ë¶„ì„
./dhcp-server -verbose -live

# íŒ¨í‚· ìº¡ì²˜ (ê³ ê¸‰)
sudo tcpdump -i any -w dhcp-test.pcap port 67 or port 68
```

## ğŸ“ ì¶œë ¥ ì˜ˆì‹œ

### í´ë¼ì´ì–¸íŠ¸ í…ŒìŠ¤í„° ìš”ì•½
```
======================================================================
DHCP ì„œë²„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ (ì™„ì „í•œ 4-way handshake)
======================================================================
ê° í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜í–‰í•œ ê³¼ì •: Discover â†’ Offer â†’ Request â†’ ACK
----------------------------------------------------------------------
ì´ ìš”ì²­ ìˆ˜:               1000
ì„±ê³µ ìš”ì²­ ìˆ˜:              987
ì‹¤íŒ¨ ìš”ì²­ ìˆ˜:               13
ì„±ê³µë¥ :                  98.7%
ì´ í…ŒìŠ¤íŠ¸ ì‹œê°„:            24s
ì´ˆë‹¹ ì™„ë£Œ ìˆ˜:            41.5 completions/s
Relay í…ŒìŠ¤íŠ¸ ìˆ˜:           987

----------------------------------------------------------------------
ì™„ì „í•œ DHCP í˜‘ìƒ ì‹œê°„ í†µê³„ (Discover~ACK ì „ì²´ ê³¼ì •)
----------------------------------------------------------------------
ìµœì†Œ í˜‘ìƒ ì‹œê°„:          15.2ms
ìµœëŒ€ í˜‘ìƒ ì‹œê°„:         234.7ms
í‰ê·  í˜‘ìƒ ì‹œê°„:          45.8ms
ì¤‘ê°„ê°’ í˜‘ìƒ ì‹œê°„:        42.1ms
95í¼ì„¼íƒ€ì¼:             89.3ms
99í¼ì„¼íƒ€ì¼:            156.2ms
```

### ì„œë²„ ì‹œë®¬ë ˆì´í„° ìš”ì•½
```
======================================================================
DHCP ì„œë²„ ìµœì¢… í†µê³„
======================================================================
ê°€ë™ ì‹œê°„:           2m34s
ì²˜ë¦¬ëœ DISCOVER:     1000
ì „ì†¡ëœ OFFER:        987
ì²˜ë¦¬ëœ REQUEST:      987
ì „ì†¡ëœ ACK:          987
ì „ì†¡ëœ NAK:          13
í‰ê·  RPS:           45.2 requests/sec
ìµœì¢… IP ì‚¬ìš©ë¥ :      86.1% (87/101)
```

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

### ê°œë°œ í™˜ê²½ ì„¤ì •
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <ì €ì¥ì†Œ-URL>
cd dhcp-performance-test-suite

# ì˜ì¡´ì„± ì„¤ì¹˜
go mod tidy

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
go test ./...

# ë¹Œë“œ
make build
```

### ê¸°ì—¬ ê°€ì´ë“œë¼ì¸
- **ì½”ë“œ ìŠ¤íƒ€ì¼**: `go fmt` ë° `go vet` ì¤€ìˆ˜
- **í…ŒìŠ¤íŠ¸**: ìƒˆ ê¸°ëŠ¥ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- **ë¬¸ì„œ**: README ë° ì½”ë“œ ì£¼ì„ ì—…ë°ì´íŠ¸
- **ì´ìŠˆ**: GitHub Issuesë¡œ ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ìš”ì²­

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ LICENSE íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ†˜ ì§€ì› ë° ë¬¸ì˜

- **GitHub Issues**: ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ìš”ì²­
- **ë¬¸ì œ í•´ê²° ê°€ì´ë“œ**: ìœ„ì˜ ë¬¸ì œ í•´ê²° ì„¹ì…˜ ì°¸ì¡°
- **ëª…ë ¹ì–´ ë„ì›€ë§**: `./dhcp-tester -h`, `./dhcp-server -h`

## ğŸ”— ê´€ë ¨ ê¸°ìˆ 

### DHCP í‘œì¤€ ë¬¸ì„œ
- **RFC 2131**: Dynamic Host Configuration Protocol
- **RFC 3046**: DHCP Relay Agent Information Option
- **RFC 4361**: Node-specific Client Identifiers
- **RFC 6842**: Client Identifier Option in Server Replies

### ë„¤íŠ¸ì›Œí¬ í…ŒìŠ¤íŠ¸ ë„êµ¬
- **iperf3**: ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ì¸¡ì •
- **netperf**: ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí‚¹
- **hping3**: íŒ¨í‚· ìƒì„± ë° ë¶„ì„
- **Wireshark**: ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ë¶„ì„

### DHCP ì„œë²„ êµ¬í˜„ì²´
- **ISC DHCP**: ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” DHCP ì„œë²„
- **Kea DHCP**: ISCì˜ ì°¨ì„¸ëŒ€ DHCP ì„œë²„
- **dnsmasq**: ê²½ëŸ‰ DHCP/DNS ì„œë²„
- **Windows DHCP**: Microsoft DHCP ì„œë²„

## ğŸ“š ì‚¬ìš© ì‚¬ë¡€ë³„ ê°€ì´ë“œ

### ê¸°ì—… ë„¤íŠ¸ì›Œí¬ ê´€ë¦¬ì
```bash
# ì‹ ê·œ DHCP ì„œë²„ ë„ì… ì „ ê²€ì¦
./dhcp-server -start-ip 10.0.1.100 -end-ip 10.0.1.200 -live &
./dhcp-tester -server 127.0.0.1 -clients 500 -relay -relay-ip 10.0.1.1 -live

# ê¸°ì¡´ ì„œë²„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
./dhcp-tester -server 10.0.1.10 -clients 200 -concurrency 20 -live
```

### ISP/í†µì‹ ì‚¬ ì—”ì§€ë‹ˆì–´
```bash
# ëŒ€ê·œëª¨ ê°€ì…ì í™˜ê²½ í…ŒìŠ¤íŠ¸
./dhcp-server -start-ip 172.16.0.10 -end-ip 172.16.10.250 \
  -max-concurrent 5000 -response-delay 50ms -live &
./dhcp-tester -server 127.0.0.1 -clients 10000 -concurrency 500 -live
```

### ë„¤íŠ¸ì›Œí¬ ì¥ë¹„ ê°œë°œì
```bash
# Relay Agent ê¸°ëŠ¥ ê²€ì¦
./dhcp-tester -server 192.168.1.1 -clients 1000 \
  -relay -relay-ip 192.168.1.254 \
  -circuit-id "ì¥ë¹„ëª¨ë¸/í¬íŠ¸ë²ˆí˜¸" \
  -remote-id "ê³ ê°ì‹ë³„ì" \
  -verbose
```

---

**ğŸ‡°ğŸ‡· í•œêµ­ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ ìµœì í™”** | **Go ê³ ì„±ëŠ¥** | ** Johnny S.B.Hyeon 2025 **

> í•œêµ­ì˜ ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ ê³ ë ¤í•˜ì—¬ ì œì‘ëœ ì „ë¬¸ì ì¸ DHCP ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.
> ê¸°ì—…, ISP, êµìœ¡ê¸°ê´€ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.
